---
import BaseLayout from '../layouts/BaseLayout.astro';
import ScrollReveal from '../components/ScrollReveal.astro';
import CaseStudyCard from '../components/CaseStudyCard.astro';
import ArchitectureDiagram from '../components/ArchitectureDiagram.astro';
import ContactCTA from '../components/ContactCTA.astro';
---
<BaseLayout
  title="Case Studies â€” Move to Digital | Automation & Integration Architecture"
  description="Enterprise automation case studies: secure integration, AI-enabled delivery, and governance-by-design for regulated environments."
  canonicalPath="/case-studies"
>
  <!-- Page header -->
  <section class="py-16 md:py-20">
    <div class="mx-auto max-w-4xl px-4 sm:px-6 lg:px-8">
      <ScrollReveal>
        <h1 class="font-[family-name:var(--font-family-heading)] text-4xl md:text-5xl font-bold text-text mb-4">
          Case Studies
        </h1>
        <p class="text-text-muted text-lg">
          Enterprise automation, secure integration, and AI-enabled delivery in regulated environments.
        </p>
      </ScrollReveal>
    </div>
  </section>

  <!-- Case Study A: Security Events -> SMS Notifications -->
  <section class="border-b border-border">
    <div class="mx-auto max-w-4xl px-4 sm:px-6 lg:px-8">
      <ScrollReveal>
        <CaseStudyCard
          title="Security Events &rarr; SMS Notifications"
          engagement="Independent architecture + build engagement"
        >
          <p class="text-text-muted text-sm mb-6">
            Gallagher Command Centre &harr; Telstra Messaging API
          </p>

          <!-- CONTEXT / PROBLEM -->
          <div>
            <h3 class="text-xs uppercase tracking-widest text-text-muted font-semibold mb-3">Context / Problem</h3>
            <p class="text-text leading-relaxed text-base md:text-lg">
              The client's physical security platform (Gallagher Command Centre) generates critical events &mdash; door forced, access denied, alarm triggered &mdash; but has no native SMS notification capability. Operators needed real-time alerts on mobile devices, with intelligent filtering to prevent alert fatigue. The requirement was for a middleware bridge that could poll, process, and deliver notifications reliably without introducing new security risk.
            </p>
          </div>

          <!-- CONSTRAINTS -->
          <div>
            <h3 class="text-xs uppercase tracking-widest text-text-muted font-semibold mb-3">Constraints</h3>
            <ul class="space-y-2 text-text leading-relaxed text-base md:text-lg">
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span>Physical security environment &mdash; no tolerance for missed events or false negatives.</span></li>
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span>Gallagher API requires mutual TLS client certificate authentication.</span></li>
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span>Telstra Messaging API v3 requires OAuth2 bearer token management with automatic refresh.</span></li>
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span>Minimal PII handling &mdash; event metadata only, no personal data in transit.</span></li>
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span>Solution must be operable by non-technical staff after handover.</span></li>
            </ul>
          </div>

          <!-- SOLUTION APPROACH -->
          <div>
            <h3 class="text-xs uppercase tracking-widest text-text-muted font-semibold mb-3">Solution Approach</h3>
            <p class="text-text leading-relaxed text-base md:text-lg">
              Designed and built an event-driven middleware bridge. The system polls Gallagher's REST API over mutual TLS, processes and deduplicates events through a configurable rules engine, composes human-readable notification messages, and delivers via Telstra's Messaging API v3.
            </p>
          </div>

          <!-- ARCHITECTURE -->
          <div>
            <h3 class="text-xs uppercase tracking-widest text-text-muted font-semibold mb-3">Architecture</h3>
            <ArchitectureDiagram />
          </div>

          <!-- AUTOMATION & INTEGRATION -->
          <div>
            <h3 class="text-xs uppercase tracking-widest text-text-muted font-semibold mb-3">Automation &amp; Integration</h3>
            <ul class="space-y-3 text-text leading-relaxed text-base md:text-lg">
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span><strong class="text-secondary">Event polling</strong> &mdash; Scheduled polling of Gallagher REST API with configurable intervals and checkpoint tracking.</span></li>
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span><strong class="text-secondary">Rules engine</strong> &mdash; Configurable event filtering, deduplication, and alert routing. Operators can adjust thresholds without code changes.</span></li>
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span><strong class="text-secondary">Message composition</strong> &mdash; Events are transformed into human-readable SMS notifications with contextual detail.</span></li>
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span><strong class="text-secondary">Rate limiting and queuing</strong> &mdash; Message delivery is rate-limited and queued to comply with Telstra API constraints and prevent notification storms.</span></li>
            </ul>
          </div>

          <!-- GOVERNANCE & CONTROLS -->
          <div>
            <h3 class="text-xs uppercase tracking-widest text-text-muted font-semibold mb-3">Governance &amp; Controls</h3>
            <ul class="space-y-3 text-text leading-relaxed text-base md:text-lg">
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span><strong class="text-secondary">Identity</strong> &mdash; Gallagher API authenticated via mutual TLS client certificates. Telstra API via OAuth2 bearer tokens with automatic refresh. No shared secrets.</span></li>
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span><strong class="text-secondary">Data boundaries</strong> &mdash; Event metadata only is processed. No PII is stored or transmitted beyond what the notification requires. Message content is ephemeral.</span></li>
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span><strong class="text-secondary">Audit logging</strong> &mdash; Every event received, every rule evaluation, every notification sent is logged with timestamps and correlation identifiers.</span></li>
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span><strong class="text-secondary">Operator controls</strong> &mdash; Non-technical operators manage filtering rules, certificate renewal, and system configuration through a dashboard. No direct API or database access required.</span></li>
            </ul>
          </div>

          <!-- SECURITY -->
          <div>
            <h3 class="text-xs uppercase tracking-widest text-text-muted font-semibold mb-3">Security</h3>
            <p class="text-text leading-relaxed text-base md:text-lg">
              All communication uses TLS 1.2+. Gallagher API access is authenticated via mutual TLS client certificates. Telstra API uses OAuth2 bearer tokens with automatic refresh. API keys are hashed with PBKDF2 and stored with AES-256 encryption. The system handles minimal personal data &mdash; event metadata only, no PII in transit.
            </p>
          </div>

          <!-- AI-ASSISTED ENGINEERING -->
          <div>
            <h3 class="text-xs uppercase tracking-widest text-text-muted font-semibold mb-3">AI-Assisted Engineering</h3>
            <p class="text-text leading-relaxed text-base md:text-lg">
              AI tooling was used during the build phase to accelerate scaffolding, improve edge-case analysis, and assist with documentation generation. All AI-generated outputs were manually reviewed and validated before integration. AI was not used for operational decision-making &mdash; the rules engine and notification logic are deterministic. AI assisted build velocity; it did not replace engineering judgement.
            </p>
          </div>

          <!-- DELIVERY NOTES -->
          <div>
            <h3 class="text-xs uppercase tracking-widest text-text-muted font-semibold mb-3">Delivery Notes</h3>
            <ul class="space-y-2 text-text leading-relaxed text-base md:text-lg">
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span>Delivered as a complete working system: middleware, operator dashboard, certificate management tooling, and audit logging.</span></li>
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span>Zero-touch deployment capability designed for non-technical operators.</span></li>
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span>Full documentation and operational runbooks provided for handover.</span></li>
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span>Deployment pending customer rollout scheduling.</span></li>
            </ul>
          </div>

          <!-- OUTCOMES -->
          <div>
            <h3 class="text-xs uppercase tracking-widest text-text-muted font-semibold mb-3">Outcomes</h3>
            <ul class="space-y-2 text-text leading-relaxed text-base md:text-lg">
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span>Working middleware with operator dashboard, certificate lifecycle management, and comprehensive audit logging.</span></li>
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span>Configurable rules engine enabling non-technical staff to manage alert filtering without developer intervention.</span></li>
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span>Architecture designed for zero-touch deployment in customer environments.</span></li>
            </ul>
          </div>

          <!-- EXTENSIBILITY -->
          <div>
            <h3 class="text-xs uppercase tracking-widest text-text-muted font-semibold mb-3">Extensibility / Next Steps</h3>
            <p class="text-text leading-relaxed text-base md:text-lg">
              Architecture supports additional notification channels (email, Microsoft Teams webhooks), configurable multi-tenant deployment, and integration with additional event sources. Rate limiting and message queuing patterns are reusable across notification pipelines.
            </p>
          </div>

          <!-- Engagement label -->
          <p class="text-text-muted text-sm mt-6 pt-6 border-t border-border">
            Delivered as an independent architecture + build engagement.
          </p>
        </CaseStudyCard>
      </ScrollReveal>
    </div>
  </section>

  <!-- Case Study B: Structured Intake Automation -->
  <section class="bg-bg-alt">
    <div class="mx-auto max-w-4xl px-4 sm:px-6 lg:px-8">
      <ScrollReveal>
        <CaseStudyCard
          title="Structured Intake Automation"
          engagement="Product architecture + build (own IP)"
        >
          <p class="text-text-muted text-sm mb-6">
            PDF &rarr; Canonical Schema &rarr; Interactive Digital Workflow
          </p>

          <!-- CONTEXT / PROBLEM -->
          <div>
            <h3 class="text-xs uppercase tracking-widest text-text-muted font-semibold mb-3">Context / Problem</h3>
            <p class="text-text leading-relaxed text-base md:text-lg">
              Clinicians were spending significant time manually transcribing standardised assessment forms from paper and PDF into digital records. The process was error-prone, created workflow bottlenecks, and made consistent scoring difficult. Assessment instruments vary in structure but share common patterns &mdash; sections, question types, scoring rubrics &mdash; that lend themselves to a structured, schema-driven approach.
            </p>
          </div>

          <!-- CONSTRAINTS -->
          <div>
            <h3 class="text-xs uppercase tracking-widest text-text-muted font-semibold mb-3">Constraints</h3>
            <ul class="space-y-2 text-text leading-relaxed text-base md:text-lg">
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span>Clinical environment &mdash; accuracy of scoring and data capture is non-negotiable.</span></li>
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span>Assessment instruments are published as static PDFs with no machine-readable structure.</span></li>
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span>Clinician users include neurodivergent practitioners &mdash; UX must minimise cognitive load, reduce visual noise, and support focused task completion.</span></li>
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span>Data governance requirements: clear boundaries on what is stored, where, and for how long.</span></li>
            </ul>
          </div>

          <!-- SOLUTION APPROACH -->
          <div>
            <h3 class="text-xs uppercase tracking-widest text-text-muted font-semibold mb-3">Solution Approach</h3>
            <p class="text-text leading-relaxed text-base md:text-lg mb-4">
              Built a three-stage pipeline that decouples ingestion from rendering:
            </p>
            <ol class="space-y-3 text-text leading-relaxed text-base md:text-lg list-none">
              <li class="flex gap-3"><span class="text-primary font-semibold shrink-0">1.</span><span><strong class="text-secondary">PDF analysis</strong> &mdash; Source PDF instruments are analysed and structured data is extracted into a canonical JSON schema. Each section, question, and scoring rubric is mapped to a normalised data model.</span></li>
              <li class="flex gap-3"><span class="text-primary font-semibold shrink-0">2.</span><span><strong class="text-secondary">Canonical schema</strong> &mdash; The schema serves as the single source of truth, decoupling the source format from the rendering engine. New instruments can be onboarded by producing a schema &mdash; no UI code changes required.</span></li>
              <li class="flex gap-3"><span class="text-primary font-semibold shrink-0">3.</span><span><strong class="text-secondary">Interactive form rendering</strong> &mdash; Schemas are rendered as interactive digital forms (SurveyJS-based) with real-time scoring, validation, and section-level progress tracking.</span></li>
            </ol>
          </div>

          <!-- ARCHITECTURE -->
          <div>
            <h3 class="text-xs uppercase tracking-widest text-text-muted font-semibold mb-3">Architecture</h3>
            <ul class="space-y-3 text-text leading-relaxed text-base md:text-lg">
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span><strong class="text-secondary">Ingestion layer</strong> &mdash; PDF analysis produces canonical JSON schemas conforming to a defined instrument specification.</span></li>
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span><strong class="text-secondary">Schema registry</strong> &mdash; Canonical schemas stored with versioning and deterministic identity (content-derived slugs), enabling reproducible builds and eliminating manual ID management.</span></li>
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span><strong class="text-secondary">Rendering engine</strong> &mdash; SurveyJS-based form renderer consumes schemas and produces interactive assessments with real-time scoring.</span></li>
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span><strong class="text-secondary">Scoring engine</strong> &mdash; Automated scoring logic embedded in the schema definition. Subscale calculations, reverse scoring, and threshold flagging are computed in real time as the clinician completes the form.</span></li>
            </ul>
          </div>

          <!-- AUTOMATION & INTEGRATION -->
          <div>
            <h3 class="text-xs uppercase tracking-widest text-text-muted font-semibold mb-3">Automation &amp; Integration</h3>
            <ul class="space-y-3 text-text leading-relaxed text-base md:text-lg">
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span><strong class="text-secondary">Schema generation</strong> &mdash; AI-assisted extraction of structure from PDF instruments, with manual validation and correction at every stage.</span></li>
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span><strong class="text-secondary">Deterministic identity</strong> &mdash; Each instrument, section, and question receives a content-derived slug. This eliminates brittle numeric IDs and reduces friction when instruments are updated or versioned.</span></li>
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span><strong class="text-secondary">Real-time scoring</strong> &mdash; Scoring rules are defined in the schema and executed client-side as forms are completed. No round-trip to a server required for score calculation.</span></li>
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span><strong class="text-secondary">Instrument onboarding</strong> &mdash; Adding a new assessment instrument requires producing a conforming schema. The rendering engine handles the rest.</span></li>
            </ul>
          </div>

          <!-- GOVERNANCE & CONTROLS -->
          <div>
            <h3 class="text-xs uppercase tracking-widest text-text-muted font-semibold mb-3">Governance &amp; Controls</h3>
            <ul class="space-y-3 text-text leading-relaxed text-base md:text-lg">
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span><strong class="text-secondary">Data boundaries</strong> &mdash; Assessment responses are processed client-side. The platform defines clear boundaries on what is persisted, what is ephemeral, and what is exportable.</span></li>
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span><strong class="text-secondary">Schema validation</strong> &mdash; Instruments must conform to the canonical specification. Malformed schemas are rejected at onboarding.</span></li>
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span><strong class="text-secondary">Auditability</strong> &mdash; Schema versions, scoring logic, and instrument definitions are versioned and traceable.</span></li>
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span><strong class="text-secondary">Human-in-loop</strong> &mdash; AI-assisted schema extraction is always reviewed and validated by a human before an instrument enters production use. AI accelerates the analysis; clinicians and architects validate the output.</span></li>
            </ul>
          </div>

          <!-- SECURITY -->
          <div>
            <h3 class="text-xs uppercase tracking-widest text-text-muted font-semibold mb-3">Security</h3>
            <p class="text-text leading-relaxed text-base md:text-lg">
              Assessment data is handled with appropriate sensitivity controls. The platform does not store identified patient data. Schema definitions and scoring logic are versioned and integrity-checked. Access controls and data handling follow the principle of least privilege.
            </p>
          </div>

          <!-- DELIVERY NOTES -->
          <div>
            <h3 class="text-xs uppercase tracking-widest text-text-muted font-semibold mb-3">Delivery Notes</h3>
            <ul class="space-y-2 text-text leading-relaxed text-base md:text-lg">
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span>Designed, built, and operated as a product (own IP) applying the same architecture and governance patterns used in enterprise engagements.</span></li>
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span>Production deployment supporting multiple assessment instrument types.</span></li>
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span>Clinician-facing interface with neurodivergent-first UX: reduced visual clutter, consistent navigation, clear progress indicators, and minimal context-switching.</span></li>
            </ul>
          </div>

          <!-- OUTCOMES -->
          <div>
            <h3 class="text-xs uppercase tracking-widest text-text-muted font-semibold mb-3">Outcomes</h3>
            <ul class="space-y-2 text-text leading-relaxed text-base md:text-lg">
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span>Production platform supporting multiple standardised assessment instruments with automated real-time scoring.</span></li>
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span>Canonical schema approach enables rapid onboarding of new instruments without UI code changes.</span></li>
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span>Neurodivergent-friendly interface validated through clinician feedback during development.</span></li>
              <li class="flex gap-2"><span class="text-primary mt-1.5 shrink-0">&bull;</span><span>Deterministic identity model (content-derived slugs) eliminates a class of data management errors common in form-based systems.</span></li>
            </ul>
          </div>

          <!-- EXTENSIBILITY -->
          <div>
            <h3 class="text-xs uppercase tracking-widest text-text-muted font-semibold mb-3">Extensibility / Next Steps</h3>
            <p class="text-text leading-relaxed text-base md:text-lg">
              Schema-driven architecture supports additional instrument types, export formats, and integration with clinical record systems. The canonical model is designed to accommodate future requirements (e.g. longitudinal tracking, multi-rater instruments) without structural changes to the rendering or scoring engines.
            </p>
          </div>

          <!-- Engagement label -->
          <p class="text-text-muted text-sm mt-6 pt-6 border-t border-border">
            Product architecture + build (own IP) &mdash; enterprise-grade patterns applied to product development.
          </p>
        </CaseStudyCard>
      </ScrollReveal>
    </div>
  </section>

  <!-- Contact CTA -->
  <ContactCTA />
</BaseLayout>
